
# ìŠ¤í”„ë§ì˜ ê°•ì˜ ë¦¬ë·°ğŸ“½
> LoadMap Part : ìŠ¤í”„ë§ MVC íŒ¨í„´ 1í¸   
> Section : 04.MVC í”„ë ˆì„ì›Œí¬ ë§Œë“¤ê¸°  
> CreateDate : 2022.07.16  
> UpdateDate :

### ëª©ì°¨
 - [í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ íŒ¨í„´ ì†Œê°œ](#Introduction) 
 - [í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ ë„ì…_v1](#Apply)
 - [View ë¶„ë¦¬_v2](#ViewSeparation)
 - Model ì¶”ê°€_v3
 - ë‹¨ìˆœí•˜ê³  ì‹¤ìš©ì ì¸ ì»¨íŠ¸ë¡¤ëŸ¬_v4
 - ìœ ì—°í•œ ì»¨íŠ¸ë¡¤ëŸ¬1_v5
 - ìœ ì—°í•œ ì»¨íŠ¸ë¡¤ëŸ¬2
<br></br>
<br></br>

# í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ íŒ¨í„´ ì†Œê°œ<a name="Introduction"></a>

<p align="center"><img src="https://user-images.githubusercontent.com/104331549/179345069-34d95401-e87a-43e2-bb27-8f3383858dc1.png" width="80%"></p>
<p align="center"><img src="https://user-images.githubusercontent.com/104331549/179345073-a68ef97f-298e-4a32-af6c-2461dd1bd7ca.png" width="80%"></p>

## FrontController íŒ¨í„´ íŠ¹ì§•
 - FrontControllerë„ í•˜ë‚˜ì˜ ì„œë¸”ë¦¿ì´ë‹¤.
 - í´ë¼ë¦¬ì–¸íŠ¸ì˜ ìš”ì²­ì„ ë°›ìœ¼ë©´ ìš”ì²­ì— ë§ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì°¾ì•„ì„œ í˜¸ì¶œ
 - ì…êµ¬ë¥¼ í•˜ë‚˜ë¡œ ì²˜ë¦¬í•¨ìœ¼ë¡œ, ê³µí†µ ì²˜ë¦¬ê°€ ê°€ëŠ¥í•´ì§„ë‹¤.
 - ê²°êµ­, í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ì„œë¸”ë¦¿ì„ ì‚¬ìš©í•˜ì§€ ì•Šì•„ë„ ë¨

### ìŠ¤í”„ë§ ì›¹ MVCì™€ í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬
- ìŠ¤í”„ë§ ì›¹ MVCì˜ í•µì‹¬ë„ ë°”ë¡œ **FrontController**
- ìŠ¤í”„ë§ ì›¹ MVCì˜ **DispatcherServlet**ì´ FrontController íŒ¨í„´ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ ìˆìŒ
   - [DispatcherServlet ì•Œì•„ë³´ê¸°](#DispatcherServlet)


<br></br>
<br></br>

# í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ ë„ì…_v1<a name="Apply"></a>
> í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ë‹¨ê³„ì ìœ¼ë¡œ ë„ì…í•´ë³´ì 

### 1ë‹¨ê³„ êµ¬ì¡°
 - Fornt ControllerëŠ” URL ë§¤í•‘ ì •ë³´ì—ì„œ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì¡°íšŒí•˜ê³ , ì´ì— í•´ë‹¹ë˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì°¾ì•„ í˜¸ì¶œí•´ì£¼ëŠ” ì—­í•  ì´ë‹¤.
<p align="center"><img src="https://user-images.githubusercontent.com/104331549/179347005-fa97b43d-69ab-4213-850e-6c587a23c351.png" width="80%"></p>

 - JSPëŠ” ì‚¬ìš©í–ˆë˜ ê²ƒì„ ê·¸ëŒ€ë¡œ ì‚¬ìš©
 - í”„ë¡ íŠ¸ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” `ControllerMap`ì— ì¶œë ¥ë  URIë¥¼ ë„£ì–´ ë†“ê³ , í•´ë‹¹ë˜ëŠ” URIë¥¼ ë¶ˆëŸ¬ ë°˜í™˜í•´ì¤€ë‹¤.
   - ë§Œì•½ ì—†ë‹¤ë©´, `404(SC_NOT_FOUND)` ìƒíƒœ ì½”ë“œë¥¼ ë°˜í™˜í•œë‹¤

### ì¸í„°í˜ì´ìŠ¤ ìƒì„±
 - ControllerV1.interface
```java
public interface ControllerV1 {

    void proccess(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException;

}
```
> ê¸°ì¡´ì˜ íšŒì›ë“±ë¡, íšŒì›ì €ì¥, íšŒì› ì¡°íšŒ ê¸°ëŠ¥ì€ ìœ„ì— ë§Œë“¤ì–´ì§„ interfaceë¥¼ ìƒì†ë°›ì•„ êµ¬í˜„í•œë‹¤.

### í”„ë¡ íŠ¸ì»¨íŠ¸ë¡¤ëŸ¬_v1
 - í”„ë¡ íŠ¸ì»¨íŠ¸ë¡¤ëŸ¬ 1ë²„ì „
 - FrontControllerServletV1.java
```java
@WebServlet(name = "frontControllerServletV1", urlPatterns = "/front-controller/v1/*")
public class FrontControllerServletV1 extends HttpServlet {

    private Map<String, ControllerV1> controllerMap = new HashMap<>();

    public FrontControllerServletV1() {
        controllerMap.put("/front-controller/v1/members/new-form", new MemberFormControllerV1());
        controllerMap.put("/front-controller/v1/members/save", new MemberSaveControllerV1());
        controllerMap.put("/front-controller/v1/members", new MemberListControllerV1());
    }

    @Override
    protected void service(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {

        String requestURI = request.getRequestURI();

        ControllerV1 controller = controllerMap.get(requestURI);
        if(controller ==null){
            response.setStatus(HttpServletResponse.SC_NOT_FOUND);
            return;
        }

        controller.proccess(request, response);
    }

}
```

<br></br>
<br></br>

# View ë¶„ë¦¬_v2<a name="ViewSeparation"></a>
> ëª¨ë“  ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ë·°ë¡œ ì´ë™í•˜ëŠ” ë¶€ë¶„ì— ì¤‘ë³µì´ ìˆê³ , ê¹”ë”í•˜ì§€ ì•Šë‹¤.








<p align="center"><img src="" width="80%"></p>




## ëŠë‚€ì  ğŸ˜Œ

## ì°¸ê³  ë§í¬
### DispatcherServlet<a name="DispatcherServlet"></a>
 - spring MVC web í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ì—ˆë‹¤ë©´, ì´ë¯¸ ì™¸ë¶€ë¼ì´ë¸ŒëŸ¬ë¦¬ì— ê°€ì§€ê³  ìˆê²Œ ëœë‹¤.
<img src="https://user-images.githubusercontent.com/104331549/179345999-fbbf7003-e1f3-4317-ae77-d605c383de51.png" width="70%">

 - ë””ìŠ¤íŒ¨ì²˜ ì„œë¸”ë¦¿ì€ í”„ë¡ íŠ¸ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œì¨, í´ë¼ì´ì–¸íŠ¸ë¡œë¶€í„° ì–´ë– í•œ ìš”ì²­ì´ ì˜¤ê²Œ ë˜ë©´ ëª¨ë“  ìš”ì²­ì„ ë¨¼ì € ë°›ê²Œ ëœë‹¤. 
    - ê·¸ë¦¬ê³  ìš”ì²­ë“¤ì„ ì„¸ë¶€ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ ìœ„ì„í•œë‹¤. 

#### ë””ìŠ¤íŒ¨ì²˜ì„œë¸”ë¦¿ êµ¬í˜„ ë°©ë²• 
 1. ë¨¼ì € DispatcherServletì„ ìƒì„±í•œë‹¤.
 2. ì›ë˜ì˜ ì—­í• ì¸ ê³µí†µìœ¼ë¡œ ì²˜ë¦¬í•˜ëŠ” ì‘ì—…ì„ ì¶”ê°€í•´ì¤€ë‹¤.
 3. ê·¸ë¦¬ê³  ë””ìŠ¤íŒ¨ì²˜ì„œë¸”ë¦¿ì´ ê´€ë¦¬í•˜ëŠ” controllerë¥¼ ì¼ì¼ì´ ë§¤í•‘í•´ì¤€ë‹¤. 
 4. ê·¸ë¦¬ê³  ìš”ì²­ì„ ë°›ìœ¼ë©´, ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ìœ„ì„í•´ì£¼ê³ , ì‘ì—…ì´ ëë‚˜ë©´ ì»¨íŠ¸ë¡¤ëŸ¬ì—ê²Œ ì‘ë‹µì„ ë°›ì•„ ë·° ì˜¤ë¸Œì íŠ¸ì— ëª¨ë¸ì„ ë„˜ê²¨ì£¼ë©° ìµœì¢… ê²°ê³¼ë¬¼ì„ ìƒì„±í•œë‹¤.

<p align="center"><img src="https://user-images.githubusercontent.com/104331549/179346775-6f9b9811-3378-416b-91ec-b7e785cb4ce6.png" width="80%"></p>



- [Dispatcher-Servlet](https://mangkyu.tistory.com/18)