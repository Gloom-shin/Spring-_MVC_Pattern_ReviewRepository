
# 스프링의 강의 리뷰📽
> LoadMap Part : 스프링 MVC 패턴 1편  
> Section : 07.웹페이지 만들기  
> CreateDate : 2022.08.04  
> UpdateDate :  

### 목차
- 프로젝트 생성
- 요구사항 분석
- 타임리프
- Redirect
<br></br>
### IntelliJ 단축키
<br></br>
<br></br>

# 타임리프 
### 타임리프 사용 선언
```html
<html xmlns:th="http://www.thymeleaf.org">
```

### 타임리프 핵심
- 핵심은 `th:xxx` 가 붙은 부분은 서버사이드에서 렌더링 되고, 기존 것을 대체한다.
- 실제 웹브라우저에서는 `th:`속성을 알지 못하므로, 무시해서 나오기 때문에, HTML을 파일 보기를 유지하면서 템플릿 기능도 할 수 있다.


<br></br>
## 간단히 알아보기 
### 속성 변경 - th:href
- ```html
  th:href="@{/css/bootstrap.min.css}"
  ```
- HTML을 그대로 볼 때는 `href` 속성이 사용되고, **뷰 템플릿**을 거치면 `th:href` 의 값이 `href` 로 대체되면서 동적으로 변경할 수 있다
- 타임리프 뷰 템플릿을 거치게 되면 원래 값을 th:xxx 값으로 변경한다. 만약 값이 없다면 새로 생성한다.

<br></br>

### URL 링크 표현식 - `@{...}`
- @{...} : 타임리프는 URL 링크를 사용하는 경우 @{...} 를 사용한다. 이것을 URL 링크 표현식이라 한다.
- URL 링크 표현식을 사용하면 서블릿 컨텍스트를 자동으로 포함한다

#### 예시 링크표현식 1 (`th:onclick`)
```html
<button class="btn btn-primary float-end"
        onclick="location.href='addForm.html'" <!-- 기본 onclick -->
        th:onclick="|location.href='@{/basic/items/add}'|"  <!-- th:onclick -->
        type="button">상품 등록
</button>
```
#### 예시 링크표현식 2 (`th:href`)
```html
<td><a href="item.html"
       th:href="@{/basic/items/{itemId}(itemId=${item.id})}" <!-- url 링크 표현식 경로변수 사용 -->
       th:text="${item.id}">
       회원id</a></td>
<td><a href="item.html"
       th:href="@{|/basic/items/${item.id}|}"<!-- url 링크 표현식 간단히 사용 -->
       th:text="${item.itemName}">
        상품명</a></td>
```
 - URL 링크 표현식을 사용하면 경로를 템플릿처럼 편리하게 사용할 수 있다
 - 예시  
   - ```html
     <a th:href="@{/basic/items/{itemId}(itemId=${item.id}, query='test')}" ></a>
     ```
   - 생성링크 : http://localhost:8080/basic/items/1?query=test
 - 리터럴 대체 문법을 활용해서 간단히 사용할 수도 있다.

<br></br>
### 리터럴 대체 - `|...|`
- 타임리프에서 **문자와 표현식등은 분리되어 있**기 때문에 더해서 사용해야한다.
- 기존 타임리프 사용 예시 1
  - ```html
    <span th:text="'Welcome to our application, ' + ${user.name} + '!'">
    ```
- 리터럴 대체 사용 예시1
  - ```html 
    <span th:text= "|Welcome to our application, ${user.name}!|">
    ```
- 기존 타임리프 사용 예시2
  - ```html
    <button th:onclick="'location.href='+ '\' + '@{/basic/items/add} +'\'''" />
    ```
- 리터럴 대체 사용 예시2
  - ```html
    <button th:onclick="|location.href='@{/basic/items/add}'|" />
    ```

<br></br>
### 반복 출력 - `th:each`
- html에서 반복문을 사용하려면, javaScript언어를 사용해야되지만, 정적페이지내에, 반복문에 쓰일 데이터를 저장하고 있어야된다.(노출이 됨)
  - jsp의 경우, 기존 html로만 알아보기 매우 힘듬.
- 타임리프에서도 반복문을 지원해주는데, `th:each` 를 사용한다.
  - 이걸로 사용하면, 파일의 명을 보여줄 필요없이 동적으로 설계할 수 있다.
```html
<tr th:each="item : ${items}">
    <td><a href="item.html"
           th:href="@{/basic/items/{itemId}(itemId=${item.id})}"  <!--동적인 URL 경로 -->
           th:text="${item.id}"> <!--동적인 데이터-->
           회원id</a></td>
    <td><a href="item.html"
           th:href="@{|/basic/items/${item.id}|}"
           th:text="${item.itemName}">
            상품명</a></td>
    <td th:text="${item.price}">10000</td>
    <td th:text="${item.quantity}">10</td>
</tr>
```
- 컬렉션의 수 만큼 `<tr>..</tr>` 이 하위 테그를 포함해서 생성된다

<br></br>
### 변수 표현식 - `${...}`
- ```html
  <td th:text="${item.price}">10000</td>
  ```
- 모델에 포함된 값이나, 타임리프 변수로 선언한 값을 조회할 수 있다
  - 프로퍼티 접근법을 사용한다. (`item.getPrice()`)

<br></br>

### 내용 변경 - `th:text`
- 위 반복문에서 
- ```html
  <td th:text="${item.price}">10000</td>
  <td th:text="${item.quantity}">10</td>
  ```
- 내용의 값을 th:text 의 값으로 변경한다.

<img src="https://user-images.githubusercontent.com/104331549/183821649-18d84a7d-f63b-4082-b4c3-c6eb897ae6be.png">


<br></br>
  <br></br>



## 느낀점 😌

### 참고 링크

